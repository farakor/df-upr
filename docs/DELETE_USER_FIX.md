# üéØ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Toast –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω", –Ω–æ:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ
- Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK

## üîç –ü—Ä–∏—á–∏–Ω–∞

Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** (–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—é):

```typescript
// server/src/services/users.service.ts
async deleteUser(id: number) {
  return await this.deactivateUser(id);  // ‚Üê –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç isActive: false
}
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ë–î, –Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º.

–ü—Ä–æ–±–ª–µ–º–∞: `getAllUsers()` –≤–æ–∑–≤—Ä–∞—â–∞–ª **–≤—Å–µ—Ö** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö, –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö):

```typescript
async getAllUsers() {
  return await prisma.user.findMany({
    // ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ isActive!
    select: { ... },
    orderBy: { createdAt: 'desc' },
  });
}
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î

```
1. admin@dfupr.com - ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
2. manager@dfupr.com - ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
3. it@dfservice.ru - ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
4. it@dkdk.com - ‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω     ‚Üê "–£–¥–∞–ª–µ–Ω–Ω—ã–π"
5. asd@asd.com - ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
6. farru@dks.com - ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
7. usu@dus.com - ‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω      ‚Üê "–£–¥–∞–ª–µ–Ω–Ω—ã–π"
8. ttt@ttt.com - ‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω      ‚Üê "–£–¥–∞–ª–µ–Ω–Ω—ã–π"
```

**–£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ!** –ü—Ä–æ—Å—Ç–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ –µ—â–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä –≤ `getAllUsers()`:

```typescript
async getAllUsers() {
  return await prisma.user.findMany({
    where: { isActive: true }, // ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö
    select: { ... },
    orderBy: { createdAt: 'desc' },
  });
}
```

### –§–∞–π–ª: `server/src/services/users.service.ts`
**–°—Ç—Ä–æ–∫–∞ 9**: –î–æ–±–∞–≤–ª–µ–Ω–æ `where: { isActive: true }`

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
2. ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. ‚úÖ –£–¥–∞–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å—á–µ–∑–∞—é—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
4. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –¥–ª—è –∞—É–¥–∏—Ç–∞

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

- ‚úÖ –î–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- ‚úÖ –ú–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è (–¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π)
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices

## üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Cmd+R):
- –°–ø–∏—Å–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚úÖ
- "–£–¥–∞–ª–µ–Ω–Ω—ã–µ" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è ‚úÖ
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ ‚úÖ

---

**–î–∞—Ç–∞**: 4 –æ–∫—Ç—è–±—Ä—è 2025, 20:40  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–¢–∏–ø**: Backend —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–¥–æ–±–∞–≤–ª–µ–Ω where clause)
